# 更新日志

## [1.0.0] - 2025年10月19日

### 新增
- 实现了基于 Go 的文件上传客户端 (`client.go`)，支持分片文件上传。
- 通过 RESTful API 端点 (`POST /api/v1/uploads`) 添加了创建上传任务的功能，包括文件名、总大小和分片大小的规格。
- 引入了分片上传功能 (`PUT /api/v1/uploads/{upload_id}/chunks/{index}`)，支持可配置的分片大小（默认 4MB）和重试机制（最多 3 次重试，采用指数退避）。
- 添加了上传完成过程 (`POST /api/v1/uploads/{upload_id}/complete`)，用于合并分片并通过 MD5 哈希验证文件完整性。
- 实现了上传状态查询 (`GET /api/v1/uploads/{upload_id}`)，用于跟踪进度、已完成分片和百分比。
- 在控制台添加了进度条显示，以可视化上传进度。
- 包含 MD5 校验和验证，以在上传后比较本地和服务器端的文件完整性。
- 添加了命令行界面，包含 `upload` 和 `status` 子命令：
  - `client upload <file_path>` 用于启动文件上传。
  - `client status <upload_id>` 用于检查上传状态。
- 通过标志添加了可配置选项：`-server` 用于服务器 URL，`-chunk` 用于分片大小，`-retries` 用于重试次数。

### 修复
- 确保文件 I/O 操作、API 请求和 JSON 解析的正确错误处理。
- 改进了由于服务器错误（HTTP 500+）导致的分片上传失败的重试逻辑的鲁棒性。

### 更改
- 更新客户端，使用模块化结构，包含任务创建、分片上传、完成和状态检查的独立函数。
- 增强了进度显示，使其在分片上传时实时更新。

### 备注
- 客户端默认使用 `http://localhost:8080`，但可以通过 `-server` 标志自定义。
- 如果服务器提供 MD5 哈希，则在上传后执行 MD5 验证。